<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CSS Positioning — In‑Depth Playground</title>
    <style>
      :root {
        --bg: #0f172a; /* slate-900 */
        --panel: #111827; /* gray-900 */
        --ink: #e5e7eb; /* gray-200 */
        --muted: #94a3b8; /* slate-400 */
        --brand: #60a5fa; /* blue-400 */
        --accent: #a78bfa; /* violet-400 */
        --ok: #34d399; /* green-400 */
        --warn: #fbbf24; /* amber-400 */
        --pink: #f472b6; /* pink-400 */
        --red: #fb7185; /* rose-400 */
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto,
          "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
          "Segoe UI Emoji";
        background: linear-gradient(180deg, #0b1024, #0f172a);
        color: var(--ink);
      }
      header {
        position: sticky;
        top: 0;
        z-index: 1000;
        background: rgba(17, 24, 39, 0.8);
        -webkit-backdrop-filter: blur(6px);
        backdrop-filter: blur(6px);
        border-bottom: 1px solid rgba(148, 163, 184, 0.25);
      }
      .wrap {
        max-width: 1100px;
        margin: 0 auto;
        padding: 18px 20px;
      }
      h1 {
        font-size: clamp(22px, 3.8vw, 36px);
        margin: 0 0 8px;
      }
      h2 {
        font-size: clamp(18px, 2.2vw, 24px);
        margin: 28px 0 12px;
      }
      p,
      li {
        color: var(--muted);
      }
      code,
      pre {
        background: #0b1225;
        color: #e2e8f0;
        border: 1px solid rgba(148, 163, 184, 0.25);
      }
      pre {
        padding: 14px;
        border-radius: 12px;
        overflow: auto;
      }
      .grid {
        display: grid;
        gap: 22px;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      }
      .card {
        background: rgba(17, 24, 39, 0.75);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 16px;
        padding: 18px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
      }
      .badge {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(148, 163, 184, 0.3);
        color: #dbeafe;
      }
      nav a {
        color: var(--ink);
        text-decoration: none;
        opacity: 0.85;
      }
      nav a:hover {
        opacity: 1;
      }
      nav {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
      }
      .pill {
        border: 1px solid rgba(148, 163, 184, 0.25);
        padding: 6px 10px;
        border-radius: 999px;
      }
      .stage {
        background: #0b1225;
        border: 1px dashed rgba(148, 163, 184, 0.35);
        border-radius: 14px;
        padding: 14px;
        min-height: 160px;
        position: relative;
      }
      .row {
        display: flex;
        gap: 10px;
        align-items: center;
        flex-wrap: wrap;
      }
      .note {
        font-size: 13px;
      }

      /* Demo atoms */
      .box {
        width: 90px;
        height: 90px;
        border-radius: 12px;
        display: grid;
        place-items: center;
        font-weight: 600;
      }
      .a {
        background: var(--brand);
      }
      .b {
        background: var(--accent);
      }
      .c {
        background: var(--ok);
      }
      .d {
        background: var(--warn);
      }
      .e {
        background: var(--pink);
      }

      /* 1) static vs relative */
      .flowline {
        background: rgba(96, 165, 250, 0.15);
        border: 1px dashed rgba(96, 165, 250, 0.5);
        padding: 10px;
        border-radius: 10px;
      }
      .relative-demo {
        position: relative;
        left: 30px;
        top: 10px;
      }

      /* 2) absolute inside positioned ancestor */
      .card.pos-rel {
        position: relative;
        padding-top: 38px;
      }
      .absolute-badge {
        position: absolute;
        top: 10px;
        right: 10px;
      }
      .abs-pin {
        position: absolute;
        bottom: 10px;
        left: 10px;
      }
      .abs-fill {
        position: absolute;
        inset: 0;
        border-radius: 12px;
        border: 2px dashed rgba(255, 255, 255, 0.2);
        pointer-events: none;
      }

      /* 3) center with absolute */
      .center-stage {
        height: 220px;
      }
      .center-abs {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      /* 4) fixed */
      .fixed-btn {
        position: fixed;
        bottom: 18px;
        right: 18px;
        padding: 10px 14px;
        border-radius: 12px;
        background: var(--red);
        color: #0f172a;
        font-weight: 700;
        border: none;
        cursor: pointer;
      }

      /* 5) sticky */
      .scrollbox {
        max-height: 260px;
        overflow: auto;
        border-radius: 12px;
        border: 1px solid rgba(148, 163, 184, 0.35);
      }
      .sticky-tab {
        position: sticky;
        top: 0;
        padding: 8px 12px;
        background: #101936;
        border-bottom: 1px solid rgba(148, 163, 184, 0.25);
        z-index: 2;
      }

      /* 6) z-index + stacking contexts */
      .stack {
        height: 210px;
      }
      .stack .box {
        position: absolute;
      }
      .z1 {
        left: 20px;
        top: 60px;
        z-index: 1;
      }
      .z2 {
        left: 60px;
        top: 30px;
        z-index: 2;
      }
      .z3 {
        left: 100px;
        top: 0;
        z-index: 3;
      }
      .context {
        position: relative;
      }
      .context .scoped {
        position: relative;
        transform: translateZ(0); /* creates stacking context */
        left: 150px;
        top: 30px;
        width: 120px;
        height: 120px;
        background: #1f2a52;
        border: 1px solid rgba(148, 163, 184, 0.35);
        border-radius: 14px;
      }
      .context .scoped .inner {
        position: absolute;
        inset: 10px;
        background: #2b3a6a;
        border-radius: 10px;
        z-index: 9999;
        display: grid;
        place-items: center;
        font-size: 12px;
      }

      /* helper */
      .kbd {
        font: 12px/1.4 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
        background: #0e1427;
        padding: 1px 6px;
        border-radius: 6px;
        border: 1px solid rgba(148, 163, 184, 0.35);
        color: #d1d5db;
      }
      .small {
        font-size: 13px;
      }
      a.jump {
        color: #c7d2fe;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="wrap">
        <h1>CSS Positioning — In‑Depth (Easy + Visual)</h1>
        <nav>
          <a class="pill" href="#static-relative">Static vs Relative</a>
          <a class="pill" href="#absolute">Absolute</a>
          <a class="pill" href="#center">Absolute Centering</a>
          <a class="pill" href="#fixed">Fixed</a>
          <a class="pill" href="#sticky">Sticky</a>
          <a class="pill" href="#zindex">z-index & Stacking</a>
          <a class="pill" href="#offsets">Offsets & inset</a>
        </nav>
      </div>
    </header>

    <main class="wrap">
      <p class="small">
        Quick rule: <strong>static</strong> (default),
        <strong>relative</strong> (nudges itself), <strong>absolute</strong> (to
        nearest positioned ancestor), <strong>fixed</strong> (to viewport),
        <strong>sticky</strong> (sticks inside scroll area). Use
        <code>top/right/bottom/left</code> or shorthand <code>inset</code> to
        offset. <code>z-index</code> controls overlap when positioned.
      </p>

      <!-- 1) Static vs Relative -->
      <section id="static-relative" class="card">
        <div class="row">
          <span class="badge">1</span>
          <h2>Static vs Relative</h2>
        </div>
        <p>
          <strong>static</strong> = default. Offsets are ignored.
          <strong>relative</strong> = element keeps its original space, then
          <em>visually shifts</em> by offsets.
        </p>
        <div class="stage">
          <div class="flowline">
            Normal document flow →
            <div class="box a">A</div>
            <div class="box b relative-demo">
              B (relative<br />left:30px; top:10px)
            </div>
            <div class="box c">C</div>
          </div>
        </div>
        <pre><code>.relative-demo{ position: relative; left: 30px; top: 10px; }</code></pre>
        <p class="note">
          Notice how B moved visually but its original space is still reserved,
          so C does not slide under B.
        </p>
      </section>

      <!-- 2) Absolute positioning -->
      <section id="absolute" class="card pos-rel">
        <div class="row">
          <span class="badge">2</span>
          <h2>Absolute (nearest positioned ancestor)</h2>
        </div>
        <p>
          Absolute elements are taken out of flow and positioned relative to the
          <strong>padding box</strong> of the
          <em>nearest ancestor that is not <code>position: static</code></em>
          (or an ancestor that creates a containing block via
          <code>transform</code>, etc.). If none, they use the initial
          containing block (page).
        </p>
        <div class="badge absolute-badge">I’m absolute → top/right</div>
        <div class="stage" style="height: 180px">
          <div class="box d abs-pin">pin ↙</div>
          <div class="abs-fill"></div>
        </div>
        <pre><code>.container{ position: relative; }
.badge{ position: absolute; top:10px; right:10px; }
.pin{ position: absolute; bottom:10px; left:10px; }
.fill{ position: absolute; inset: 0; }</code></pre>
        <p class="note">
          Always set <code>position: relative</code> on the parent you want to
          anchor to.
        </p>
      </section>

      <!-- 3) Absolute center -->
      <section id="center" class="card">
        <div class="row">
          <span class="badge">3</span>
          <h2>Absolute Centering</h2>
        </div>
        <p>
          Classic trick: place top/left at 50% and pull back by half its own
          size using <code>transform: translate(-50%,-50%)</code>.
        </p>
        <div class="stage center-stage">
          <div class="box e center-abs">CENTER</div>
        </div>
        <pre><code>.parent{ position: relative; }
.child{ position: absolute; top:50%; left:50%; transform: translate(-50%, -50%); }</code></pre>
      </section>

      <!-- 4) Fixed positioning -->
      <section id="fixed" class="card">
        <div class="row">
          <span class="badge">4</span>
          <h2>Fixed (relative to viewport)</h2>
        </div>
        <p>
          <strong>fixed</strong> elements are taken out of flow and pinned to
          the <strong>viewport</strong>. They don’t move when you scroll. Note:
          a transformed ancestor can capture a fixed element as its containing
          block in browsers.
        </p>
        <div class="stage" style="height: 220px">
          <p class="note">Scroll the page and the red button will stay put.</p>
        </div>
        <pre><code>.fab{ position: fixed; right: 18px; bottom: 18px; }</code></pre>
      </section>

      <!-- 5) Sticky positioning -->
      <section id="sticky" class="card">
        <div class="row">
          <span class="badge">5</span>
          <h2>Sticky (hybrid of relative + fixed)</h2>
        </div>
        <p>
          <strong>sticky</strong> starts as <em>relative</em>. When you scroll
          past the offset (<code>top</code>/<code>bottom</code> etc.), it
          behaves like <em>fixed</em> but only inside its
          <strong>nearest scrollable ancestor</strong>.
        </p>
        <div class="scrollbox">
          <div class="sticky-tab">I stick to the top (top: 0)</div>
          <div style="padding: 12px 14px">
            <p>Content line 1</p>
            <p>Content line 2</p>
            <p>Content line 3</p>
            <p>Content line 4</p>
            <p>Content line 5</p>
            <p>Content line 6</p>
            <p>Content line 7</p>
            <p>Content line 8</p>
            <p>Content line 9</p>
            <p>Content line 10</p>
            <p>Content line 11</p>
            <p>Content line 12</p>
          </div>
        </div>
        <pre><code>.scrollbox{ max-height:260px; overflow:auto; }
.sticky-tab{ position: sticky; top: 0; }</code></pre>
        <p class="note">
          Sticky works within the element’s scroll container. If a parent has
          <code>overflow</code> set (auto/scroll/hidden), that parent becomes
          the sticky boundary.
        </p>
      </section>

      <!-- 6) z-index + stacking -->
      <section id="zindex" class="card">
        <div class="row">
          <span class="badge">6</span>
          <h2>z-index & Stacking Contexts</h2>
        </div>
        <p>
          <code>z-index</code> controls overlap
          <em>when elements are in the same stacking context</em>. Positioned
          elements (non-static) participate; certain properties like
          <code>opacity &lt; 1</code> or <code>transform</code> create a
          <strong>new stacking context</strong> that isolates children.
        </p>
        <div class="stage stack">
          <div class="box a z1">z:1</div>
          <div class="box b z2">z:2</div>
          <div class="box c z3">z:3</div>
          <div class="context">
            <div class="scoped">
              <div class="inner">New stacking<br />context</div>
            </div>
          </div>
        </div>
        <pre><code>.a{ position:absolute; z-index:1; }
.b{ position:absolute; z-index:2; }
.c{ position:absolute; z-index:3; }
.context .scoped{ transform: translateZ(0); /* new stacking context */ }</code></pre>
        <ul>
          <li>
            Higher <code>z-index</code> wins only among siblings in the
            <em>same</em> context.
          </li>
          <li>
            New contexts are created by: positioned elements with
            <code>z-index</code> not <code>auto</code>, <code>transform</code>,
            <code>opacity&lt;1</code>, <code>filter</code>,
            <code>will-change</code>, etc.
          </li>
        </ul>
      </section>

      <!-- 7) Offsets & inset -->
      <section id="offsets" class="card">
        <div class="row">
          <span class="badge">7</span>
          <h2>
            Offsets: top/right/bottom/left & the <code>inset</code> shorthand
          </h2>
        </div>
        <p>
          Offsets apply to <em>positioned</em> elements
          (relative/absolute/fixed/sticky). Use logical shorthands too.
        </p>
        <pre><code>/* physical */
.box{ top: 10px; right: 12px; bottom: 14px; left: 16px; }

/* shorthand */
.box{ inset: 10px 12px 14px 16px; } /* TRBL */
.box{ inset: 0; } /* fill parent */

/* logical (writing‑mode aware) */
.box{ inset-inline-start: 1rem; inset-block-end: 2rem; }</code></pre>
        <p class="note">
          Tip: <code>inset: 0</code> + <code>position:absolute</code> makes an
          element fill its positioned parent (great for overlays).
        </p>
      </section>

      <section class="card">
        <div class="row">
          <span class="badge">8</span>
          <h2>Cheat‑Sheet (When to use what?)</h2>
        </div>
        <ul>
          <li>
            <strong>relative</strong>: nudge an element without affecting layout
            of others (bad for major layouts).
          </li>
          <li>
            <strong>absolute</strong>: badges, tooltips, popovers anchored to a
            parent you control (<code>position:relative</code> on parent).
          </li>
          <li>
            <strong>fixed</strong>: sticky headers/footers, floating action
            buttons, modals pinned to viewport.
          </li>
          <li>
            <strong>sticky</strong>: section headers that stick inside a
            scrolling container.
          </li>
          <li>
            <strong>z-index</strong>: order layers; remember stacking contexts
            can isolate children.
          </li>
        </ul>
      </section>

      <section class="card">
        <div class="row">
          <span class="badge">9</span>
          <h2>Gotchas & Pro Tips</h2>
        </div>
        <ul>
          <li>
            For <strong>absolute</strong>, if it doesn’t align as expected,
            ensure the correct ancestor has <code>position:relative</code> or a
            transform to become the containing block.
          </li>
          <li>
            <strong>fixed</strong> may act like absolute inside a transformed
            ancestor (common with animated wrappers). Prefer placing fixed
            elements near <code>&lt;body&gt;</code>.
          </li>
          <li>
            <strong>sticky</strong> needs an offset (e.g., <code>top:0</code>)
            and respects the bounds of the nearest scrollable ancestor.
          </li>
          <li>
            <strong>z-index</strong>: larger numbers don’t escape stacking
            contexts. Move the element outside or create a higher context.
          </li>
        </ul>
      </section>
    </main>

    <button
      class="fixed-btn"
      onclick="window.scrollTo({top:0, behavior:'smooth'});"
    >
      TOP↑
    </button>
  </body>
</html>
